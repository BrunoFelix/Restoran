 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml"
         xmlns:h="http://java.sun.com/jsf/html"
         xmlns:f="http://java.sun.com/jsf/core"
         xmlns:ui="http://java.sun.com/jsf/facelets"
         xmlns:p="http://primefaces.org/ui"
         xmlns:pe="http://primefaces.org/ui/extensions">
   
  <h:head>
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  	<link rel="StyleSheet" type="text/css" href="../css/estilo.css" media="screen"/>
            <title>Restoran | Gerenciar Psedidos</title>
  </h:head>
  <h:body>
 	
 	<div id="topo">
		<ui:include src="../menu.xhtml" />
	</div>
	
	<h1><h:outputText id="textotopo" value="Painel de mesas"/></h1>
	
	<div class="wrapper">
		<div class="container">
			<div class="panel_mesas">
				<h:form id="form">
				    <p:dataGrid var="mesa" value="#{MesaBean.listarMesa}" columns="3" layout="grid"
				        rows="12" paginator="true" id="mesas"
				        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				        rowsPerPageTemplate="6,12,16">
				 
				        <f:facet name="header" id="textotopo" class="textotopo">
				            Painel de mesas
				        </f:facet>
				        
				 
				        <p:panel header="Mesa #{mesa.numeroMesa}" style="text-align:center">
				            <h:panelGrid columns="1" style="width:100%">
				                <img src="../img/mesa.png"/> 
				 
				                <h:outputText value="Capacidade: #{mesa.capacidadeMesa}" />
				 
				                <p:commandLink update=":form:detalheMesa" oncomplete="PF('detalheMesa').show()" title="View Detail">
				                    <h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />
				                </p:commandLink>
				            </h:panelGrid>
				        </p:panel>
				 
				    </p:dataGrid>
				 
				    <p:dialog header="Gerenciar Pedido" widgetVar="detalheMesa" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
				        <p:outputPanel id="detalheMesa" style="text-align:center;">
				        	<h:form>
			        			<p:commandButton id="reset-button" value="Novo Pedido"
									icon="ui-icon-circle-plus" action="#{ProdutoBean.cadastrar}">
								</p:commandButton>
				        	</h:form>
				        	
				            <h:form class="form-inserir-pedido">
								<p:panelGrid columns="2">

									<p:outputLabel value="Mesa:" />
									<p:panelGrid columns="1">
										<h:selectOneMenu value="#{ProdutoBean.categoria}">
											<f:selectItem itemValue="null" itemLabel="Categoria" />
											<f:selectItems value="#{PedidoBean.listarMesa}" var="cl"
												itemValue="#{mesa}" itemLabel="#{mesa.nome}" />
										</h:selectOneMenu>
									</p:panelGrid>
				
				
									<p:commandButton id="insert-button" value="Limpar"
										icon="ui-icon-trash" type="reset">
									</p:commandButton>
									<p:commandButton id="reset-button" value="Salvar"
										icon="ui-icon-disk" action="#{ProdutoBean.cadastrar}">
									</p:commandButton>
								</p:panelGrid>

							</h:form>
				        </p:outputPanel>
				    </p:dialog>
				</h:form>
			</div>
		</div>
	</div>
 	
  </h:body>
  </html>